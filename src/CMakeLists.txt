
INCLUDE_DIRECTORIES("../include")

FIND_PACKAGE( Qt4 REQUIRED )
INCLUDE(${QT_USE_FILE})
ADD_DEFINITIONS(${QT_DEFINITIONS})
SET(QT_USE_QTOPENGL TRUE)

FIND_PACKAGE( OpenGL REQUIRED )
INCLUDE_DIRECTORIES( ${OPENGL_INCLUDE_DIR} )

# Q_OBJECT handling
set(KBX_MOC_HDRS ../include/gui_opengl.hpp)
QT4_WRAP_CPP(KBX_MOC_OUTFILES ${KBX_MOC_HDRS})

# ressource binding
SET(KBX_RESOURCES ../res.qrc)
QT4_ADD_RESOURCES(KBX_RESOURCES_RCC ${KBX_RESOURCES})

ADD_EXECUTABLE(../Kubix
  kubix.cpp
  engine.cpp
  gui_opengl.cpp
  models.cpp
  tools.cpp
  ${KBX_MOC_OUTFILES}
  ${KBX_RESOURCES_RCC}
)

TARGET_LINK_LIBRARIES(../Kubix
  ${QT_LIBRARIES}
  ${QT_QTOPENGL_LIBRARIES}
  ${OPENGL_LIBRARIES}
)

